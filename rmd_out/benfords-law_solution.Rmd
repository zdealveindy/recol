---
output:
  pdf_document:
    latex_engine: xelatex
    pandoc_args: ["--variable=colorlinks:true", "--variable=urlcolor:blue"]
geometry: a4paper
---

# Benford's law - Solution
*David Zelen√Ω*

``` rsplus
# Definition of the function:
follow.benford <- function (data)
{
  splitted.data <- stringr::str_split (data, pattern = '')
  d1 <- unlist (lapply (splitted.data, FUN = function (x) x[x != '0' & x != '-' & x != '.'][1]))
  d1 <- factor (d1, levels = as.character (1:9))
  prop.d1 <- table (d1)/sum (table(d1))
  benford.d1 <- log10 (((1:9)+1)/(1:9))
  barplot (rbind (prop.d1, benford.d1), beside = T, legend = c('data', 'Benford'))
}

# Example of use: Population of countries in the World
pop <- readr::read_delim 
('https://raw.githubusercontent.com/zdealveindy/recol/refs/heads/main/data/world.txt',
delim = '\t')
follow.benford (pop$Population)
title (main = 'Population of countries in the World')

# Example of use: leaf area data
data.LA <- readr::read_delim
('https://raw.githubusercontent.com/zdealveindy/recol/refs/heads/main/data/WDLA.txt',
delim = '\t')
follow.benford (data.LA$Wet.area.cm2)
title (main = 'Leaf area')

```

